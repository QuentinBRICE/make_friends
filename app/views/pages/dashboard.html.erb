<%= link_to "Revenir aux annonces", advertisements_path(@advertisement), class: "btn btn-outline-dark m-3" %>
<h2>Mes réservations</h2>
<div class="card-container-res">
  <% @advertisements.each do |advertisement| %>
    <div class="card">
      <% if advertisement.photo.attached? %>
        <%= link_to advertisement_path(advertisement) do %>
          <div class="card-image">
            <%= cl_image_tag advertisement.photo.key, width: 280, height: 100, crop: :fill, class: "image-style" %>
          </div>
        <% end %>
      <% end %>
      <p><%= advertisement.title %></p>
      <p><%= advertisement.description %></p>
      <p>Prix : <%= advertisement.price %> €</p> 
      <%= button_to "Supprimer", advertisement_path(advertisement), method: :delete %>
    </div>
  <% end %>
</div>

<h2>Mes annonces</h2>
<div class="card-container">
  <% @my_advertisements.each do |advertisement| %>
    <div class="card">
      <% if advertisement.photo.attached? %>
        <%= link_to advertisement_path(advertisement) do %>
          <div class="card-image">
            <%= cl_image_tag advertisement.photo.key, width: 280, height: 100, crop: :fill, class: "image-style" %>
          </div>
        <% end %>
      <% end %>
      <p><%= advertisement.title %></p>
      <p><%= advertisement.description %></p>
      <p>Prix : <%= advertisement.price %> €</p>
       <% advertisement.bookings.each do |booking| %>
        <%= booking.total_price %>
      <% end %>
      <%= button_to "Supprimer", advertisement_path(advertisement), method: :delete %>
    </div>
  <% end %>
</div>
<style>
.card-container {
  display: flex;
  flex-wrap: wrap;
}
.card {
  width: 400px;
  margin: 15px;
  padding: 10px;
  border: 1px solid #ddd;
  border-radius: 5px;
  background-color: #fff;
}
.card-image {
  width: 100%;
  height: 150px;
  overflow: hidden;
  border-radius: 5px;
}
.image-style {
  width: 100%;
  height: 100%;
  object-fit: cover;
}
</style>
